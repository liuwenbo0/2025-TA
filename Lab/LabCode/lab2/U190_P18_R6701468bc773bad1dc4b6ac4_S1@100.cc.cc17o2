#include "Solution.h"
vector<int> Solution::perfect_permutation(int n) {
    vector<int> ans;
    vector<int> A;
    A.push_back(1);
    while(int(A.size())<=n)
    {
        int remain=int(A.size());
        for(int i=0;i<remain;i++)
        {
            A.push_back(A[i]*2);
            A[i]=A[i]*2-1;
        }
    }
    for(int i =0;i<int(A.size());i++)
    {
        if(A[i]<=n)
        {
            ans.push_back(A[i]);
        }
    }
    return ans;
}