#include "Solution.h"
vector<int> Solution::perfect_permutation(int n) {
    vector<int> ans;
    int nums[1028];
	nums[1]=1; 
    int nn=2;
    while(nn<=1024){
		for(int j=1;j<=nn/2;j++){
            int temp=nums[j];
			nums[j]=2*nums[j];
            nums[nn/2+j]=2*temp-1;
        }
        nn*=2;
	} 
    for(int i=1;i<=1024;i++) if(nums[i]<=n&&(nums[i]!=0)) ans.push_back(nums[i]);
    return ans;
}