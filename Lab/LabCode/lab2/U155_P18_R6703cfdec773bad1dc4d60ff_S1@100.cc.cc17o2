#include "Solution.h"
vector<int> Solution::perfect_permutation(int n) {
    if (n == 1) {
        return {1};
    }
    
    vector<int> l_base = perfect_permutation((n + 1) / 2);
    vector<int> r_base = perfect_permutation(n / 2);
    vector<int> ans(n);
  
    for (int i = 0; i < (n + 1) / 2; i++) {
        ans[i] = 2 * l_base[i] - 1; 
    }
    for (int i = (n + 1) / 2, j = 0; i < n; i++, j++) {
        ans[i] = 2 * r_base[j]; 
    }
    
    return ans;
}